{"mappings":"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","sources":["static/scripts/client.js"],"sourcesContent":["var canvas = document.getElementById(\"canvas\");\nvar ctx = canvas.getContext('2d');\n\nfunction getParameterByName( name ){\n\tname = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n\tvar regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\n\tvar regex = new RegExp(regexS);\n\tvar results = regex.exec(window.location.href);\n\tif(results == null) {\n\t\treturn \"\";\n\t} else {\n\t\treturn decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n\t} }\nlet vid = \"\";\n\nconsole.log(\"%cWelcome to StarKingdoms! Version: v0.3.1.2\", \"color:blue\");\n\nvar username = getParameterByName('username');\n\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\n\nwindow.onresize = function() {\n\tcanvas.width = window.innerWidth;\n\tcanvas.height = window.innerHeight;\n}\n\nif(username == undefined || username == \"\" || username == \" \") {\n\tusername = \"Unnamed\";\n}\n\nfunction setServerMsg(msg) {\n\tdocument.getElementById(\"content\").innerHTML = msg;\n}\n\nfunction util_gethost() {\n\tif (window.location.protocol.includes(\"file\")) {\n\t\treturn \"http://localhost:8443\";\n\t} else {\n\t\treturn window.location.protocol + \"//\" + window.location.host + \":8443\";\n\t}\n}\n\nsetServerMsg(\"Connecting...\");\n\nvar socket = io(util_gethost());\n\n/*var failConn = setTimeout(function() {\n        socket.disconnect();\n\tvar id = window.setTimeout(function() {}, 0);\n\nwhile (id--) {\n    window.clearTimeout(id); // will do nothing if no timeout with id is present\n}\n\tconsole.log(\"Connection aborted after 10 seconds\");\n\tsetServerMsg(\"Connection aborted: timeout\");\n}, 10000);*/\n\nsocket.emit(\"join\", username);\n/*var waitConn = setTimeout(function() {\n\tsocket.emit(\"join\", username);\n\tsetServerMsg(\"Having trouble connecting to server. Aborting in 8...\");\n\tsetTimeout(function(){setServerMsg(\"Having trouble connecting to server. Aborting in 7...\");socket.emit(\"join\", username, vid);},1000);\n\tsetTimeout(function(){setServerMsg(\"Having trouble connecting to server. Aborting in 6...\");socket.emit(\"join\", username, vid);},2000);\n\tsetTimeout(function(){setServerMsg(\"Having trouble connecting to server. Aborting in 5...\");socket.emit(\"join\", username, vid);},3000);\n\tsetTimeout(function(){setServerMsg(\"Having trouble connecting to server. Aborting in 4...\");socket.emit(\"join\", username, vid);},4000);\n\tsetTimeout(function(){setServerMsg(\"Having trouble connecting to server. Aborting in 3...\");socket.emit(\"join\", username, vid);},5000);\n\tsetTimeout(function(){setServerMsg(\"Having trouble connecting to server. Aborting in 2...\");socket.emit(\"join\", username, vid);},6000);\n\tsetTimeout(function(){setServerMsg(\"Having trouble connecting to server. Aborting in 1...\");socket.emit(\"join\", username, vid);},7000);\n}, 2000);*/\n\nvar players = {};\nvar player = {\n\tx: 0,\n\ty: 0,\n\trotation: 90,\n\tvelX: 0,\n\tvelY: 0\n};\nvar socketId;\n\nvar keys = {};\nvar usernames = {};\nvar planets = {};\nvar modules = [];\nvar mousePos = {\n    x: 0,\n    y: 0\n};\nvar buttons = [];\n\nconst SCALE = 30;\n\nfunction chatMsg(value) {\n\tsocket.emit(\"message\", value, username);\n\tconsole.log(\"%cSent chat message to server.\", \"color:green\");\n}\n\nfunction mkInlineImg(src) {\n\tvar img = new Image();\n\timg.src = src;\n\n\timg.style = `  \n\tdisplay: inline-block;\n\twidth: 250px;\n\theight: auto;\n\tvertical-align: top;\n\tborder: 3px solid #888;\n\tborder-radius: 5px;`;\n\n\treturn img;\n}\n\nfunction checkForImgUrl(url) {\n\treturn(url.match(/\\.(jpeg|jpg|gif|png)$/) != null);\n}\n\nsocket.on(\"disallowed_ban\", function(message){\n\tsetServerMsg(\"Connection failed: You have been banned from StarKingdoms. Reason: \" + message);\n\tvar id = window.setTimeout(function() {}, 0);\n\nwhile (id--) {\n    window.clearTimeout(id); // will do nothing if no timeout with id is present\n}\n});\n\nsocket.on(\"client-pos\", function(msg, thisPlayer, usernamesInfo){\n\tplayers = msg;\n\tplayer.x = thisPlayer.x;\n\tplayer.y = thisPlayer.y;\n\tplayer.rotation = thisPlayer.rotation;\n\tplayer.username = usernamesInfo[socketId];\n\tplayer.velX = thisPlayer.velX;\n\tplayer.velY = thisPlayer.velY;\n\tusernames = usernamesInfo;\n});\n\nsocket.on(\"planet-pos\", (planetInfo) => {\n\tplanets = planetInfo;\n})\n\nsocket.on(\"module-pos\", (moduleInfo) => {\n\tmodules = moduleInfo;\n});\n\nlet chat = document.getElementById(\"chat\");\n\nsocket.on(\"message\", (text, username) => {\n\tif (checkForImgUrl(text)) {\n\t\tlet img = mkInlineImg(text);\n\t\tchat.innerHTML += '<b>' + username + \"</b>: \";\n\t\tchat.appendChild(img);\n\t} else {\n\t\tchat.innerHTML += marked.parse(`**${username}**: ${text}`);\n\t\tchat.scrollTop = chat.scrollHeight;\n\t}\n\tconsole.log(\"%cRevieved chat message from server.\", \"color:green\");\n});\n\nsocket.on(\"ready\", (id) => {\n\t//clearTimeout(failConn);\n\t//clearTimeout(waitConn);\n    socketId = id;\n\tsetServerMsg(\"Connected!\");\n\tsetTimeout(function(){document.getElementById(\"srvmsg\").style.display=\"hidden\";},2000);\n});\n\nvar earth = new Image;\nearth.src = \"static/img/earth.png\"\n\nvar moon = new Image;\nmoon.src = \"static/img/moon.png\"\n\nvar hearty = new Image;\nhearty.src = \"static/img/hearty.png\"\n\nvar cargo = new Image;\ncargo.src = \"static/img/cargo.png\"\n\nvar xPos = 0;\nvar yPos = 0;\nvar vel = 0;\n\nvar canvasStr = '0px 0px';\n\nvar newXPos = 0;\nvar newYPos = 0;\nvar newVel = 0;\nvar newCanvasStr = '0px 0px';\n\nvar rewritePos = false;\nvar rewriteVel = false;\nvar rewriteCanvasStr = false;\n\nvar position = document.getElementById(\"position\");\nvar velocity = document.getElementById(\"velocity\");\n\nfunction recalculatePositioning() {\n\trewritePos = false;\n\trewriteVel = false;\n\trewriteCanvasStr = false;\n\tvar newXPos = Math.round(player.x / 50);\n\tvar newYPos = Math.round(player.y / 50);\n\tvar newVel = Math.round(Math.sqrt(player.velX * player.velX + player.velY * player.velY));\n\n\tvar newCanvasStr = `${Math.trunc(-player.x / 10)}px ${Math.trunc(-player.y / 10)}px`;\n\n\tif (newXPos != xPos) {\n\t\trewritePos = true;\n\t\txPos = newXPos;\n\t}\n\tif (newYPos != yPos) {\n\t\trewritePos = true;\n\t\tyPos = newYPos;\n\t}\n\tif (newVel != vel) {\n\t\trewriteVel = true;\n\t\tvel = newVel;\n\t}\n\tif (rewritePos) {\n\t\tposition.innerHTML = `Position: ${xPos}, ${yPos}`;\n\t}\n\tif (rewriteVel) {\n\t\tvelocity.innerHTML = `Vel: ${vel}`;\n\t}\n\tcanvas.style.backgroundPosition = newCanvasStr;\n}\n\nvar camX = 0;\nvar camY = 0;\n\nfunction draw() {\n\tlet intervalId = setInterval(() => {\n\n\t\trecalculatePositioning();\n\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\n\t\tcamX = -player.x + canvas.width / 2\n\t\tcamY = -player.y + canvas.height / 2\n\t\tctx.translate(camX, camY);\n\n\t\tif (planets.earth == null) {\n\t\t\treturn;\n\t\t}\n\n\t\tctx.drawImage(earth, -1250 + planets.earth.x, -1250 + planets.earth.y, 2500, 2500)\n\n\t\tctx.drawImage(moon, -300 + planets.moon.x, -300 + planets.moon.y, 600, 600);\n\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = \"gray\";\n\t\tctx.lineWidth = 5;\n\t\tctx.moveTo(player.x, player.y);\n\t\tctx.lineTo(planets.moon.x, planets.moon.y);\n\t\tctx.stroke();\n\n\t\tctx.beginPath();\n\t\tctx.strokeStyle = \"limegreen\";\n\t\tctx.lineWidth = 5;\n\t\tctx.moveTo(player.x, player.y);\n\t\tctx.lineTo(planets.earth.x, planets.earth.y)\n\t\tctx.stroke();\n\n\t\tfor(var key of Object.keys(players)) {\n\t\t\tctx.save();\n\t\t\tctx.translate(players[key].x,\n                players[key].y);\n\n\t\t\tctx.textAlign = \"center\";\n\t\t\tctx.font = '30px Segoe UI';\n\t\t\tctx.fillStyle = \"white\";\n\t\t\tctx.fillText(usernames[key], 0, -35);\n\n\t\t\tctx.rotate(players[key].rotation);\n\t\t\tctx.drawImage(hearty, -25, -25, 50, 50);\n\t\t\tctx.restore();\n\t\t}\n\n\t\tfor(let i = 0; i < modules.length; i++) {\n\t\t\tctx.save();\n\t\t\tctx.translate(modules[i].x, modules[i].y)\n\t\t\tctx.rotate(modules[i].rotation);\n\t\t\tctx.drawImage(cargo, -25, -25, 50, 50) \n\t\t\tctx.restore();\n\t\t}\n\t\tsocket.emit(\"input\", keys, {\n            x:mousePos.x + player.x - canvas.width / 2,\n            y:mousePos.y + player.y - canvas.height / 2\n        }, buttons);\n\t}, 1000/60);\n}\n\ndraw();\n\ndocument.onmousedown = (e) => {\n    buttons = e.buttons\n}\ndocument.onmouseup = (e) => {\n    buttons = e.buttons\n}\n\ndocument.onmousemove = (e) => {\n    mousePos = {\n        x: e.pageX,\n        y: e.pageY \n    }\n}\n\ndocument.onkeydown = (e) => {\n\tif(document.activeElement != document.getElementById('msg')) {\n\t\tkeys[e.key] = true\n\t}\n}\n\ndocument.onkeyup = (e) => {\n\tkeys[e.key] = false;\n};\n"],"names":[],"version":3,"file":"main.b8a67f0b.js.map","sourceRoot":"/__parcel_source_root/"}